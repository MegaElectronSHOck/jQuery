<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="js/jquery-1.9.1.min.js"></script>
    <style>
        * {margin:0; padding:0;}
ul li {list-style:none;}
.clearfix:after{content:'';display:block; clear:both;}
body {background:green; overflow-y:scroll;}
header {	
	margin-top:20px;
	background:linear-gradient(white 50px, rgba(255,255,255,0.5) 50px, rgba(255,255,255,0.5) );
	height:50px; 
	overflow:hidden;
}

nav {width:960px; margin:0 auto;}
nav > ul > li {float:left; line-height:50px; margin-right:40px; position: relative;}
nav > ul > li ul{ width:100%; display: none; position: absolute;}
nav > ul > li ul li{white-space:nowrap;}


    </style>
</head>
<body>
    <header>
        <nav>
                <ul class="clearfix">
                    <li>1st menu
                            <ul>
                                <li>2nd menu</li>
                                <li>2nd menu</li>
                            </ul>
                    </li>
                    <li>2nd menu
                            <ul>
                                <li>2nd menu</li>
                                <li>2nd menu</li>
                                <li>2nd menu</li>
                                <li>2nd menu</li>
                            </ul>
                    </li>
                    <li>3rd menu
                            <ul>
                                <li>2nd menu</li>
                                <li>2nd menu</li>
                                <li>2nd menu</li>
                            </ul>
                    </li>
                    <li>4th menu
                            <ul>
                                <li>2nd menu</li>
                                <li>2nd menu</li>
                                <li>2nd menu</li>
                                <li>2nd menu</li>
                                <li>2nd menu</li>
                            </ul>
                    </li>				
    
                </ul>
        </nav>
    </header>

    <script>
        // a.height() 알맹이
        // a.innerHeight() 알맹이 + 패딩
        // a.outerHeight() 알맹이 + 패딩 + 보더
        // a.outerHeight(true) 알맹이 + 패딩 + 보더 + 마진
        var $firstMenu = $('nav > ul > li'),
            $header = $('header'),
            $headerHeight = $header.outerHeight(),
            timer;

        $firstMenu.mouseenter(function(){
            var currentMenu =$(this);
            var subHeight = currentMenu.find('ul').outerHeight();
            $header.stop().animate({height:
                 subHeight+$headerHeight + 'px'},300)
            clearTimeout(timer)
            timer = setTimeout(function(){
                currentMenu.find('ul').show();
            },200)
            
        }).mouseleave(function(){
            var currentMenu =$(this);
            $header.stop().animate({height: $headerHeight+ 'px'}, 300);
            currentMenu.find('ul').hide();
            
        })
    </script>
</body>
</html>